{% extends "layout.html" %}
{% block title %}Users{% endblock %}
{% block headername %}Volunteer Management App{% endblock %}


{% block adminnav %}{% if role == 'admin' %}{{ super() }}{% else %}{% endif %}{% endblock%}
{% block coordinatornav %}{% if role == 'coordinator' %}{{ super() }}{% else %}{% endif %}{% endblock%}
{% block volunteer_nav %}{% endblock%}
{% block custom_navitems%}{% endblock %}

{% block content %}
<div class="container" style="margin-top:30px">
    <div class="row">
        <div class="col-sm-8">

            <h1>User list: {% if volunteer_view is sameas true %}volunteers{% else %}coordinators{% endif %}</h1>
            <br>
            <h2>Search users: </h2>
            <form action="{% if volunteer_view is sameas true %}/search-volunteers{% else %}/search-coordinators{% endif %}" method="GET">
                <table class="table">
                    <tr>
                        <td><input class="form-control" autocomplete="off" type="text" name="query"
                                placeholder="Search by firstname, lastname, email address"></td>
                        <td><input class="btn btn-primary" type="submit" value="Submit"></td>
                    </tr>
                </table>
            </form>
            <p>As an admin you can create new users. Volunteers can report on activities done, coordinators can create and manage volunteers, tools and trainings. Admins can create and manage volunteers and coordinators and view simple reporting data on helpline performance.</p>
            <br>
            <p>As an admin or a coordinator you can also view activitities volunteers have reported on. You can post a reply to a volunteer's message.
            </p>
            <div>Number of users: {{ count }}</div>
            <table class="table">
                <thead>
                    <tr>
                        <th>User-ID</th>
                        <th>Lastname</th>
                        <th>Firstname</th>
                        <th>Email</th>
                        <th>Role</th>
                        <th>Activites done</th>
                        <th>Modify</th>
                    </tr>
                </thead>
                <tbody>
                    {% for user in users %}
                    <tr>
                        <td>{{ user.user_id }}</td>
                        <td>{{ user.lastname }}</td>
                        <td>{{ user.firstname }}</td>
                        <td>{{ user.emailÂ }}</td>
                        <td>{{user.role}}</td>
                        <td>{{ user.activitycounter }}</td>
                        <td><a href="view-user/{{ user.user_id }}">View details</a></td>
                    </tr>
                    {% endfor %}
                <tr>
                    <td colspan=7 class="align-right">
                        <form action="/add-user" method='GET'><input class="btn btn-link" id="addnew" name="addnew" type="submit"
                            value="Create new user" /></form>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>

{% endblock %}